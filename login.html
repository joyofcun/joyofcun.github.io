<!DOCTYPE HTML>
<html>
  

<head>
  <title>Make a booking</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="style/style.css" title="style" />
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $( function() {
    var dateFormat = "yyyy-mm-dd",
      from = $( "#from" )
        .datepicker({
          defaultDate: "+1w",
          changeMonth: true,
          numberOfMonths: 3
        })
        .on( "change", function() {
          to.datepicker( "option", "minDate", getDate( this ) );
        }),
      to = $( "#to" ).datepicker({
        defaultDate: "+1w",
        changeMonth: true,
        numberOfMonths: 3
      })
      .on( "change", function() {
        from.datepicker( "option", "maxDate", getDate( this ) );
      });
 
    function getDate( element ) {
      var date;
      try {
        date = $.datepicker.parseDate( dateFormat, element.value );
      } catch( error ) {
        date = null;
      }
 
      return date;
    }
  } );
  </script>

  <!-- Datatable CSS -->
  <link href='//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css' rel='stylesheet' type='text/css'>

  <!-- jQuery UI CSS -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">

  <!-- jQuery Library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- jQuery UI JS -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

  <!-- Datatable JS -->
  <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script>
    $(document).ready(function(){

// Datapicker 
$( ".datepicker" ).datepicker({
   "dateFormat": "yy-mm-dd"
});

// DataTable
var dataTable = $('#empTable').DataTable({
  'processing': true,
  'serverSide': true,
  'serverMethod': 'post',
  'searching': true, // Set false to Remove default Search Control
  'ajax': {
    'url':'ajaxfile.php',
    'data': function(data){
       // Read values
       var from_date = $('#search_fromdate').val();
       var to_date = $('#search_todate').val();

       // Append to data
       data.searchByFromdate = from_date;
       data.searchByTodate = to_date;
    }
  },
  'columns': [
     { data: 'roomID' },
     { data: 'roomname' },
     { data: 'roomtype' },
     { data: 'beds' },
  ]
});

// Search button
$('#btn_search').click(function(){
  dataTable.draw();
});

});
  </script>
</head>

<h1>Make a booking</h1>
<a href="/booking.html">[Return to the Bookings listing]</a>
<a href="/mainpage.html">[Return to the Main Page]</a>
<p>Booking for Test:</p>
<form action="#" method="post">
  <div class="form_settings">
    <p><span>Room (name,type,beds):</span><select id="makeabooking" name="makeabooking" required>
        <option value="room1">Kellie, S, 1</option>
        <option value="room2">Kellie, S, 2</option>
        <option value="room3">Kellie, S, 3</option>
        <option value="room4">Kellie, S, 4</option></select></p>
    <p><span>Checkin date:</span><input class="makeabooking" type="text" name="checkin_date" placeholder="yyyy-mm-dd" id="from" required/></p>
    <p><span>Checkout date:</span><input class="makeabooking" type="text" name="checkout_date" placeholder="yyyy-mm-dd" id="to" required/></p>
    <p><span>Contact number:</span><input class="makeabooking" type="tel" name="contact_number" placeholder="(###) ### ####" pattern="([0-9]{3}) [0-9]{3} [0-9]{4}" required></p>
    <p><span>Booking extras:</span><textarea class="makeabooking textarea" rows="8" cols="50" name="booking_extras"></textarea></p>
    <p style="padding-top: 15px"><span>&nbsp;</span><input class="submit" type="submit" name="makeabooking_submitted" value="Submit"/>  </p>
    <a href="/mainpage.html">[Cancel]</a>
  </div>
</form>

<h1>Search for room availability</h1>
<div >
  <!-- Date Filter -->
  <table>
    <tr>
      <td>
         <input type='text' readonly id='search_fromdate' class="datepicker" placeholder='From date'>
      </td>
      <td>
         <input type='text' readonly id='search_todate' class="datepicker" placeholder='To date'>
      </td>
      <td>
         <input type='button' id="btn_search" value="Search">
      </td>
    </tr>
  </table>

  <!-- Table -->
  <table id='roomavail' class='display dataTable'>
    <thead>
      <tr>
        <tr>
          <th>Room #</th>
          <th>Room Name</th>
          <th>Room Type</th>
          <th>Beds</th>
        </tr>
      </tr>
    </thead>

  </table>
</div>










<table>
  <tr>
    <th>Room #</th>
    <th>Room Name</th>
    <th>Room Type</th>
    <th>Beds</th>
  </tr>
  <tr>
    <td>2</td>
    <td>Herman</td>
    <td>D</td>
    <td>5</td>
  </tr>
  <tr>
    <td>3</td>
    <td>Scarlett</td>
    <td>D</td>
    <td>2</td>
  </tr>
  <tr>
    <td>4</td>
    <td>Jelani</td>
    <td>S</td>
    <td>2</td>
  </tr>
  <tr>
    <td>5</td>
    <td>Sonya</td>
    <td>S</td>
    <td>5</td>
  </tr>
</table>
